# Архитектура устройств и систем вычислительной техники
# Лекция 1
## Введение
**Циклы Кондратьева** - экономика развивается циклами.

В начале 20 века появляется радио, двс, это восходящая ветка Кондратьева. 1905-1915. До 30 года была спадающая ветка, великая депрессия.

Следующий цикл - перед войной, 30е годы, и во время войны. Ракеты, лекарства, химия крупнотоннажная. Вершина - полет человека в космос. Снова спадающая ветка, ближневосточные войны, подорожала нефть (арабы не продают). Заканчивается в 85г.

Затем рост рынка на страны соцблока, территорию бывшего СССР, свободная торговля. Появляются пк массово, мобильная связь, Интернет. Перелом восходящей ветви цикла произошел в 2002 примерно году - кризис доткомов. На западе слишком много фирм, решивших подняться на Интернете, и многие фирмы рухнули. Мы живем в спадающей ветке цикла Кондратьева, должен начаться рост экономики. Чтобы учить большие нейросети, нужны большие вычислительные можности.

Кремниевая микроэлектроника упирается в потолок. Дальнейшие пути разваиния - квантовые компьютеры (скорее как модуль для конкретных задач вроде поиска простых чисел), либо биокомпьютеры, либо оптические компьютеры (на фотонах).

Системы для обучения нейронок в Яндексе (Галушкин, Черваненкис) имеют производительность порядка 10 петафлопс. Самые производительные в мире же превзошли 1 экзофлопс (10^18). Нейросети даже на таком уровне производительности обучаться будут неделями.

**Исследование тенденций в системе мысленных экранов**
| Задачи |  сложные расчеты| ср+асу | ср+асу+персональные приложения | ср+асу+пп+ии |
|--|--|--|--|--|
| платформы | залы с аппаратурой | залы+сеть | смартффоны+облако | ? |
| элементно-конструктивная база | ис | бис | сбис+серверы | ? |

Влияние алгоритмов на познавательную деятельность человека
Алгоритмы поисковиков, применяемых ии искажают предоставляемую информацию, так что имеют они и отрицательные стороны тоже.

Степень искажения инфореальности у бинг, утки, яху составляет 25-40%.
Вычистить теории заговора из поисковой выдачи могут только люди, как это делается в гугл.

Благодаря соцсетям люди в своих коммуникациях вышли далеко за пределы числа Данбара (в среднем 150 офлайновых контактов).

Кривая распределения мнений отличается от нормального распределения мнений, вместо большинства средних мнений они полярны.

## Компьютер
Состоит из cpu, памяти, систем ввода-вывода.

Требования к памяти 
- работать с теми же частотами что и процессор
- по возможности хранить побольше информации.
- сохранять информацию если выключено питание
- стоимость разумно, не больше других подсистем компьютера

Совместить все эти требования в одной физической структуре не удается, только в лабораторных условиях (мемристорная память) наносекунды на доступ к информации, сохранение после отключения и объемные, но нет технологии получения мемристорной памяти за разумную стоимость.

Поэтому на сегодня у нас есть кеш-память компьютера, и только L1 работает на частотах процессора, сделан он на тех же кремние. Элемент этой памяти это триггер (не меньше 20 интегральных транзисторов). Получается дорого, много места занимает и делать его большим не будут. Поэтому он 16-64кб в среднем.

1) Первый уровень L1 - static RAM
2) Второй уровень L2 - dynamic RAM
3) третий уровень L3 - почти обычная динамическая память.

После кеша идет обычная оперативная память.
Теряет информацию при отключении питания. 

Чип имеет миллиарды транзисторов. Значит десять где то гигабайт в памяти. Фактически сейчас около 16 может быть. 


И новый уровень, память которая не обнуляется, и имеет емкости десятки терабайт. Делается на магнитных дисках или твердотелых накопителях.

Информация, с которой работает процессор, находится на всех уровнях памяти.

Новая ОП с высокой пропускной способностью - HBM, ее используют графические ускорители.

# Лекция 2
Мощность, которую можно отвести от чипа (макс 200ватт+-) становится серьезным ограничителем.

МОП-транзистор - наиболее распространенный. В нем четко выверенный слой $SiO_2$ 

Характеристики интегральных схем
- Минималььный топологический размер (литографический размер)
- Выход годных кристаллов с пластины

Почему говорят "литографический"? Потому что литография по сути открывает на поверхности полупроводника окошки. И развитие микроэлектроники связано с тем что расстояние между ними уменьшается.

При уменьшении размера:
1) степень интеграции чипа возрастет квадратично.
Задержка транзисторов связана с временем перезарядки пн емкостей.

2) $мощность = U*I$, к одному транзистору мощность переключения снижается, а для всего чипа увеличивается

Групповая технология изготовления ИС (БИС)
$$C_{изготовления}=\frac{С_{изготовления\ пластины}}{I * G}+С_{СБ}$$
I - число чипов (~100шт)

G - выход годных кристаллов

Считается, что к серийному производству можно приступить, когда выход годных станет 10%+

С 2011 года нарушаетсязакон Мура о удвоении числа транзисторов на кристалле каждые 2 года. Поэтому развитие микроэлектроники стопорится. Только несколько фирм имеют деньги на проектирование и оплату Тайваню самые современные техпроцессы (4-5нм).

Изготавливать такие чипы могут TSMC, за ними Samsung (но они скорее ориентируются на память). Все остальные от них отстали, включая Россию.

В России освоенный техпроцесс это 180нм, что далеко от современных. По слухам могут быть до 45нм, но о единицах речи не идет.

За 1нм не зашел пока никто, там возникают проблемы квантового уровня. Также вступает уже константа скорости света, если мы достигнем 100ггц то сигнал просто не успеет распространиться даже по чипу.

Новые возможные пути - квантовые, биологические, оптические. Фотонные хранилища не особо пока получаются, обработка лучше. Но если делать перевод из оптики в электронику то весь выигрыш теряется.

## Жизнь
Жизнь 1.0 (биологическая стадия): "хард" и "софт" эволюционирует, а не конструируется. Пример - бактерия

Жизнь 2.0 (культурная стадия): "хард" эволюционирует, а "софт" конструируется (благодаря обучению). Пример - люди

Жизнь 3.0 (технологическая стадия): "софт" и "хард" конструируются. Стадия еще не появилась на земле. Но возможно в этом столетии и появится.

1) Цифро-утописты: уверены, что AGI появится в ближайшие десятилетия и будет благоприятен для человечества. Что это естественый этап космической эволюции. Ларри Пейдж, Рэй Курцвейл, Сергей Брин. Считают, что ИИ-паранойя может затормозить наступление цифровой утопии.

2) Техно-скептики: считают создание сверхчеловеческого ИИ технически настолько сложным, что оно не произойдет в ближайшие 100 лет. Эндрю Ын, Родни Брукс. Они опасаются, что разговоры о рисках ИИ замедлят исследования.

3) Движение за дружественный ИИ: Считают появление сверхразума в этом веке вероятным, но не гарантируют его позитивного исхода. Считают обеспокоенность уместна и продуктивна, исследования ИИ-безопасности и публичные обсуждения повышают вероятность благоприятного исхода. Стюарт Рассел.

# Лекция 3.
## RISC-V
**RISC-V** - открытая архитектура (система команд). Активно используется Baical Electronics. Некоторые китайские компании используют RISC-V, и на ее основе делают закрытые прхитектуры.
Недавно поддержку добавили в OS Android

## Структура универсального многоядерноого микропроцессора
- Ядра
- Кэш у каждого ядра, первого (Около 16КБ) и второго уровня (128КБ-1МБ в среднем). В кэше есть деление на Data (D) и Instructions (I)
- Общая кэш память, третий уровень (1 до 32МБ)

60-70% интегральных транзисторов приходится на кэш-память.

В архитектуре ARM, в отличие от X86, требуется сократить энергопотребление, и поэтому кэш второго уровня выпадает. ARM можно регулярно встретить в смартфонах из-за их энергоэффективности.

## Процессоры в России и мире
В настоящее время более перспективными являются ARM нежели x86 процессоры. Относительно недавно Apple сделала свои процессоры на ARM архитектуре SoC - system on crystal.
Для запуска приложений, созданных под архитектуру x86, их процессору требуется использование эмулятора Rosetta.

Из отечественных процессоров имеются Эльбрус и Байкал. Eneum делал на эльбрусах и рабочие станции, и серверы.С 2022 года кооперация с TSMC прекратилась, там были 32нм, и сейчас используются Китайские предположительно, 16нм. Производство у себя требуется во избежание втроенных намеренно уязвимостей для использования в силовых структурах.

## Параллелизм вычислений, классификация Флинна
- SISD
- SIMD
- MIMD с ОП общей
- MIMD с ОП разделенной

Программист должен задумываться, как его программа будет выполняться на многоядерном процессоре

## Вычислительная техника и смежные области
Вычислительная техника
- Микроэлектроника и физика твердого тела
- Устройства системы 
- Математика и программирование

